zipBuilder=function(){var x,y=function(a){for(var g=-1,b=0;b<a.length;b++)g=g>>>8^x[(g^a[b])&255];return(g^-1)>>>0},a=[],d=[],e={},l=function(a){return new Uint8Array([a&255,a>>8&255,a>>16&255,a>>24&255])},m=function(a){return new Uint8Array([a&255,a>>8&255])},v=function(a){var g=[];a=unescape(encodeURIComponent(a));for(var b=0;b<a.length;b++)for(var d=a.charCodeAt(b),m=Math.ceil(Math.log(d)/Math.log(256)),l=0;l<m;l++)g.push(d<<8*l&255);return new Uint8Array(g)};e.reset=function(){a=[];d=[]};e.addFilesFromBlobs=
function(n,g,b){for(var s=0;s<n.length;s++){var e=n[s],w=new FileReader,r=0,t=0;w.onload=function(f,b,g,n,c){return function(h){c&&(r++,t<Math.ceil(100/b*r)&&(t=Math.ceil(100/b*r),c(t)));h=new Uint8Array(this.result);var k=[],q=h.length;k.push(new Uint8Array([80,75,3,4]));k.push(new Uint8Array([10,0]));k.push(new Uint8Array([0,8,0,0]));k.push(new Uint8Array([0,0,0,0]));var B=y(h);k.push(l(B));k.push(l(q));k.push(l(q));var p=v(g);k.push(m(p.length));k.push(m(0));k.push(p);k.push(h);d[f]={name:g,size:q,
record:k,recordSize:30+p.length+q,crc:B};if(d.length==b){h=!0;for(k=0;k<d.length;k++)if("undefined"==typeof d[k]){h=!1;break}if(h){for(h=0;h<d.length;h++)a=a.concat(d[h].record),d[h].record=null;n()}}}}(s,n.length,e.name,g,b);w.readAsArrayBuffer(e.blob)}};e.addFileFromArray=function(n,g){var b=g.length;a.push(new Uint8Array([80,75,3,4]));a.push(new Uint8Array([10,0]));a.push(new Uint8Array([0,8,0,0]));a.push(new Uint8Array([0,0,0,0]));var s=y(g);a.push(l(s));a.push(l(b));a.push(l(b));var e=v(n);a.push(m(e.length));
a.push(m(0));a.push(e);a.push(g);d.push({name:n,size:b,recordSize:30+e.length+b,crc:s})};e.getZip=function(){for(var n=0,g=0,b=0;b<d.length;b++){a.push(new Uint8Array([80,75,1,2]));a.push(new Uint8Array([10,0,10,0]));a.push(new Uint8Array([0,8,0,0]));a.push(new Uint8Array([0,0,0,0]));a.push(l(d[b].crc));a.push(l(d[b].size));a.push(l(d[b].size));var e=v(d[b].name);a.push(m(e.length));a.push(m(0));a.push(m(0));a.push(m(0));a.push(m(0));a.push(l(0));a.push(l(n));a.push(e);n+=d[b].recordSize;g+=46+e.length}a.push(new Uint8Array([80,
75,5,6]));a.push(m(0));a.push(m(0));a.push(m(d.length));a.push(m(d.length));a.push(l(g));a.push(l(n));a.push(m(0));return a};x=function(){for(var a,g=[],b=0;256>b;b++){a=b;for(var d=0;8>d;d++)a=a&1?3988292384^a>>>1:a>>>1;g[b]=a}return g}();return e};modernBrowserCheck();if(bowser.safari||bowser.ios)get("browserMessage").innerHTML="Support for saving files from JavaScript is very buggy in Safari. This tool may not work. Sorry for the inconvenience!",get("browserWarn2").style.display="inherit",get("browserWarn1").style.visibility="visible",get("dismissableBrowserError").addEventListener("click",function(x){get("browserWarn2").style.display="none";get("browserWarn1").style.visibility="hidden"}),show(get("dismissableBrowserError"));
domready(function(){function x(c){for(var h=0,a;a=s[h];h++)a!==c.target&&a.classList.remove("active");c.target.classList.add("active")}function y(c){t=document.body.clientHeight;get("splitBox").style.maxHeight=t-400+"px";get("joinBox").style.maxHeight=t-380+"px";get("fileListBox").style.maxHeight=t-380+"px"}function a(){f.length=0;e(get("fileListList"));e(get("splitContainer"));get("files").value="";hide(get("joinBox"));hide(get("splitBox"));hide(get("fileListBox"));show(get("dropZone"));get("splitFileSize").value=
"1"}function d(c){c.stopPropagation();c.preventDefault();newFiles=null==c.target.files?c.dataTransfer.files:c.target.files;newFiles=[].slice.call(newFiles);for(c=0;c<newFiles.length;c++)for(var a=0;a<f.length;a++)newFiles[c].name==f[a].name&&f.splice(a,1);f=f.concat(newFiles);1<newFiles.length&&f.sort(function(c,a){var h=c.name.toUpperCase(),b=a.name.toUpperCase();return h<b?-1:h>b?1:0});m()}function e(c){for(var a=c.children,k=[],q=0,b;b=a[q];q++)0>b.id.indexOf("Template")&&k.push(b);for(q=0;b=k[q];q++)c.removeChild(b)}
function l(c){c=c.target.parentNode.id;c=parseInt(c.substring(c.indexOf("_")+1));u=parseInt(u);saveAs(new Blob([f[0].slice(u*c,u*c+(u*c+u>f[0].length?f[0].length-u*c:u))]),f[0].name+"."+g(c+1,3))}function m(){if(0===f.length)a();else if(e(get("fileListList")),1<f.length){hide(get("splitBox"));for(var c=0,h=get("fileListList"),k=get("fileListTemplate"),b=0,d;d=f[b];b++){var p=k.cloneNode(!0);p.id="file"+b;show(p);p.querySelector("#fileName").innerHTML=d.name;h.appendChild(p);c+=d.size}h=f[0].name.replace(/\.[^/.]+$/,
"");""==h?get("joinFileName").value="New_File.dat":get("joinFileName").value=h;get("joinFileSize").innerHTML=(c/1024/1024).toFixed(2)+" Mbytes";hide(get("dropZone"));show(get("joinBox"));show(get("fileListBox"))}else{h=get("fileListList");k=get("fileListTemplate");for(b=0;d=f[b];b++)p=k.cloneNode(!0),p.id="file"+b,show(p),p.querySelector("#fileName").innerHTML=d.name,h.appendChild(p),c+=d.size;hide(get("joinBox"));hide(get("dropZone"));show(get("fileListBox"));show(get("splitBox"));v()}}function v(){var c=
get("splitFileSize").value,a=c;if(!isNaN(parseFloat(a))&&isFinite(a)){a:{for(var a=get("splitUnitButtonsBox").querySelectorAll("button"),b=0,d;d=a[b];b++)if(d.classList.contains("active")){a=d.id;break a}a=void 0}switch(a){case "mbytes":a="chunks "+c+" Mbyte(s) each";c*=1048576;break;case "kbytes":a="chunks "+c+" Kbyte(s) each";c*=1024;break;case "bytes":a="chunks "+c+" byte(s) each";break;default:return}z=Math.ceil(f[0].size/c);u=c;a=z+" "+a;get("chunkLabel").innerHTML=a;get("splitContainer");e(get("splitContainer"));
if(100<z)get("chunkLabel").innerHTML="Too many chunks, please increase chunk size",get("saveAllButton").classList.add("btn-disabled");else for(c=get("splitPartTemplate"),a=0;a<z;a++)b=c.cloneNode(!0),b.id="split_"+a,b.querySelector("#splitButton").innerHTML=(a+1).toString(),show(b),b.addEventListener("click",l),get("splitContainer").appendChild(b)}}function n(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"}function g(a,b,d){a+="";return a.length>=b?a:Array(b-a.length+1).join(d||
"0")+a}function b(a,b){var d=zipBuilder(),q=[];bowser.chrome&&356515840<=f[0].size&&alert("Uh-oh! This file might be too big for Chrome to save all at once. If it doesn't work please download one by one.");bowser.firefox&&828375040<=f[0].size&&alert("Uh-oh! This file might be too big for Firefox to save all at once. If it doesn't work please download one by one.");f[0].size>C&&r.show();for(var e=0;e<b;e++){a=parseInt(a);var p=a*e+a>f[0].length?f[0].length-a*e:a;q.push({name:f[0].name+"."+g(e+1,3),blob:f[0].slice(a*
e,a*e+p)})}d.addFilesFromBlobs(q,function(){r.setProgress(100);r.hide();saveAs(new Blob(d.getZip()),f[0].name+"_chunks.zip")},function(a){r.setProgress(a)})}for(var s=get("splitUnitButtonsBox").querySelectorAll("button"),A=0,w;w=s[A];A++)w.addEventListener("click",x),w.addEventListener("click",function(){v()});var r=function(a){var b=get("processing1"),d=get("processing2");get("progressMeter");var f=get("procMsg"),e=!1;return{show:function(){b.style.visibility="visible";d.style.display="inherit";
e=!0},hide:function(){d.style.display="none";b.style.visibility="hidden";e=!1},setProgress:function(a){e&&(f.innerHTML=a+"%")}}}(document);(function(){var a=function(){return get("infoPane").classList.contains("rightSideOut")},b=function(){get("infoPane").classList.add("rightSideOut")},d=function(){get("infoPane").classList.remove("rightSideOut")};bowser.android&&4.1>bowser.version&&(get("infoPane").style.right="0px",get("infoPane").style.display="none",a=function(){return"none"!==get("infoPane").style.display},
b=function(){get("infoPane").style.display="inherit"},d=function(){get("infoPane").style.display="none"});get("infoButton").addEventListener("mouseover",function(){b()});get("infoButton").addEventListener("click",function(){a()?d():b()});get("infoPane").addEventListener("mouseout",function(a){for(a=a.toElement||a.relatedTarget;a&&a.parentNode&&a.parentNode!=window;){if(a.parentNode==this||a==this)return a.preventDefault&&a.preventDefault(),!1;a=a.parentNode}d()})})();var t;y(null);window.addEventListener("resize",
y);var f=[];a();get("files").addEventListener("change",d,!1);dropZoneify(get("dropZone"),n,d);dropZoneify(get("fileListBox"),n,d);dropZoneify(get("fileListList"),n,d);get("clearButton").addEventListener("click",function(){a()});get("addMoreButton").addEventListener("click",function(){get("files").click()});get("mainAddFilesButton").addEventListener("click",function(){get("files").click()});get("joinSaveButton").addEventListener("click",function(a){a.preventDefault();a.stopPropagation();a.target.blur();
var b=[];for(a=0;a<f.length;a++)(function(a,d){var c=new FileReader;c.onload=function(a){b[d]=this.result;if(b.length==f.length){for(a=0;a<b.length;a++)if("undefined"==typeof b[a])return;a=get("joinFileName").value;0>a.indexOf(".")&&(a+=".bin");r.hide();saveAs(new Blob(b),a)}};c.readAsArrayBuffer(a);r.show();r.setProgress(10)})(f[a],a)},!1);get("splitFileSize").addEventListener("keyup",function(){v()});get("saveAllButton").addEventListener("click",function(){b(u,z)});var u=0,z=0,C=10485760});